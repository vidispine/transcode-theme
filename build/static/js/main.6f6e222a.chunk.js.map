{"version":3,"sources":["themes/LightTheme.js","pages/Root/ConfigurationContext.js","assets/logo.svg","assets/header-logo.svg","const.js","pages/Search/components/ShapeInfo.js","pages/Search/hooks/useSearchFiles.js","pages/Search/hooks/useFileShapes.js","pages/Search/components/FileSearch.js","pages/Profiles/ProfileContext.js","pages/Search/components/TranscodeModal.js","pages/Search/Search.js","pages/Profiles/Profiles.js","pages/Login/Login.js","pages/NotFound/NotFound.js","pages/Root/components/Header.js","queryClient.js","pages/Root/Root.js","components/ErrorBoundary.js","index.js"],"names":["theme","createMuiTheme","typography","useNextVariants","fontFamily","palette","type","primary","light","main","dark","secondary","text","background","login","overrides","VdtUserAvatarButton","avatar","backgroundColor","indigo","fontSize","height","width","props","locale","options","undefined","userName","ConfigurationContext","React","createContext","ConfigurationProvider","children","useQuery","StorageApi","listStorage","then","data","storageList","sourceStorage","outputStorage","storage","forEach","metadata","field","key","id","parseStorages","refetchOnWindowFocus","staleTime","Infinity","isLoading","isError","Provider","value","APP_LOGO","logo","HEADER_LOGO","headerLogo","APP_TITLE","process","document","title","publicUrl","startsWith","URL","pathname","replace","APP_BASENAME","ShapeInfo","shape","file","container","containerComponent","video","videoComponent","audio","audioComponent","duration","mediaInfo","property","find","audioTracks","length","audioChannels","reduce","acc","a","Number","channelCount","format","codec","prettyMilliseconds","timestamp","useSearchFiles","storageId","useApi","FileApi","listFileStorage","fileListType","request","onSearch","first","queryParams","number","sort","path","prefix","wildcard","hasLoaded","useFileShapes","useState","fileShapes","hasShapesLoaded","state","setState","setHasLoaded","prev","onListShapes","fileIds","reqs","fileId","push","listFileShapes","Promise","all","result","map","r","json","res","i","ActionsComponent","selected","onSelect","transcodeAvailable","openTranscodeModal","CardActions","disableSpacing","style","padding","IconButton","onClick","SwitchVideo","CloudDownload","Checkbox","checked","onChange","FileSearch","classes","setFirst","searchString","setSearchString","fileList","useEffect","renderShapeInfo","Object","keys","className","SearchInput","onSubmit","submitting","Button","Math","max","List","ListItem","subheader","parseFileSize","size","ExpandComponent","content","ContentProps","component","ActionsProps","fileShape","ProfileContext","parseProfile","profile","name","bitrate","scaling","framerate","videoCodec","bits","units","parseInt","floor","log","toFixed","formatBitrate","resolution","denominator","numerator","audioCodec","useGetProfile","tagName","ShapetagApi","getShapeTag","ProfileProvider","listShapeTag","uri","search","setSearch","profiles","useMemo","filter","s","toLowerCase","includes","v","useProfiles","context","useContext","Error","Profile","TableRow","TableCell","fileInfo","TranscodeModal","open","handleClose","Dialog","fullWidth","maxWidth","onClose","aria-labelledby","DialogTitle","DialogContent","Table","TableBody","DialogActions","color","withStyles","root","paddingTop","spacing","paddingBottom","paddingLeft","paddingRight","ItemList","tab","setTab","selectedFile","setSelectedFile","transcodeModalOpen","setTranscodeModalOpen","Tabs","e","newTab","Tab","label","source","Card","variant","CardContent","output","console","Box","disabled","TableHead","slice","gridLeft","gridRight","display","justifyContent","alignItems","common","white","onLogin","serverUrl","error","Grid","direction","item","xs","sm","md","lg","Alert","visibility","severity","alert","FormProps","initialValues","UrlFieldComponent","RememberMeFieldComponent","Hidden","smDown","src","alt","textAlign","Typography","mixins","toolbar","minHeight","marginRight","flexGrow","useAuthContext","onLogout","AppBar","elevation","Toolbar","QueryClient","overflow","marginLeft","loginError","setLoginError","cookieOptions","maxAge","onError","message","setTimeout","LoginComponent","Login","LoginProps","QueryClientProvider","client","queryClient","exact","Profiles","from","to","ErrorBoundary","hasError","this","Container","Paper","toString","Component","ReactDOM","render","LightTheme","CssBaseline","basename","getElementById"],"mappings":"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","file":"static/js/main.6f6e222a.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport 'typeface-roboto';\nimport '@vidispine/vdt-materialui/dist/index.css';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n  palette: {\n    type: 'light',\n    primary: {\n      light: '#222',\n      main: '#111',\n      dark: '#000',\n    },\n    secondary: {\n      light: '#DDD',\n      main: '#CCC',\n      dark: '#BBB',\n    },\n    text: {\n      primary: 'rgba(0,0,0,0.75)',\n    },\n    background: {\n      login: 'linear-gradient(-45deg,#b0c800,#0068a9 0,#0068a9 33%,#002749 100%,#b0c800 0)',\n    },\n  },\n  overrides: {\n    VdtUserAvatarButton: {\n      avatar: {\n        backgroundColor: indigo[500],\n        fontSize: '0.875rem',\n        height: 32,\n        width: 32,\n      },\n    },\n  },\n  props: {\n    VdtUserAvatarButton: {\n      locale: { options: undefined },\n      userName: '',\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport { useQuery } from 'react-query';\nimport { storage as StorageApi } from '@vidispine/vdt-api';\n\nconst ConfigurationContext = React.createContext();\n\nconst parseStorages = (storageList) => {\n  let sourceStorage = null;\n  let outputStorage = null;\n  storageList.storage.forEach((storage) => {\n    if (!storage.metadata.field) {\n      return;\n    }\n    storage.metadata.field.forEach((field) => {\n      if (field.key === 'transcodeThemeSourceStorage') {\n        sourceStorage = storage.id;\n      }\n      if (field.key === 'transcodeThemeOutputStorage') {\n        outputStorage = storage.id;\n      }\n    });\n  });\n  return { sourceStorage, outputStorage };\n};\n\nexport function useGetStorages() {\n  return useQuery(\n    ['storages'],\n    () => StorageApi.listStorage({}).then(({ data = {} }) => parseStorages(data)),\n    {\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n    },\n  );\n}\n\nexport function useConfiguration() {\n  const context = React.useContext(ConfigurationContext);\n  return context;\n}\n\nexport const ConfigurationProvider = ({ children }) => {\n  const { data, isLoading, isError } = useGetStorages();\n\n  return (\n    <ConfigurationContext.Provider value={{ ...data, isLoading, isError }}>\n      {children}\n    </ConfigurationContext.Provider>\n  );\n};\n\nexport default ConfigurationContext;\n","export default __webpack_public_path__ + \"static/media/logo.db253c2c.svg\";","export default __webpack_public_path__ + \"static/media/header-logo.f0892ea4.svg\";","import logo from './assets/logo.svg';\nimport headerLogo from './assets/header-logo.svg';\n\nexport const APP_LOGO = logo;\nexport const HEADER_LOGO = headerLogo;\nexport const LOGIN_EXPIRES_SECONDS = 1209600; // 14 days\n\nexport const APP_TITLE = process.env.REACT_APP_TITLE;\nexport const VIDISPINE_URL =\n  process.env.REACT_APP_VIDISPINE_URL === '' ? undefined : process.env.REACT_APP_VIDISPINE_URL;\n\ndocument.title = process.env.REACT_APP_DOCUMENT_TITLE;\n\n/*\nSets the basename for the router so that all paths are relative\nhttps://reactrouter.com/web/api/BrowserRouter/basename-string\n*/\nlet publicUrl = process.env.PUBLIC_URL === '' ? '/' : process.env.PUBLIC_URL;\nif (publicUrl && publicUrl.startsWith('http')) {\n  publicUrl = new URL(publicUrl);\n  publicUrl = publicUrl.pathname.replace(/(.+?)\\/+$/, '$1');\n}\n\nexport const APP_BASENAME = publicUrl;\n","import React from 'react';\nimport prettyMilliseconds from 'pretty-ms';\n\nfunction ShapeInfo({ shape, file }) {\n  if (!shape) {\n    return <p>Technical metadata extraction not completed.</p>;\n  }\n  const container = shape.containerComponent;\n  const video = shape.videoComponent;\n  const audio = shape.audioComponent;\n  const duration = (\n    (container && container.mediaInfo.property.find((property) => property.key === 'Duration')) ||\n    {}\n  ).value;\n  const audioTracks = audio ? audio.length : 0;\n  const audioChannels = audio ? audio.reduce((acc, a) => acc + Number(a.channelCount), 0) : 0;\n  return (\n    <>\n      <ul>\n        {container && container.format && (\n          <li>\n            <b>Container format:</b> {container && container.format}{' '}\n          </li>\n        )}\n        {video && video[0].codec && (\n          <li>\n            <b>Video codec: </b> {video && video[0].codec}\n          </li>\n        )}\n        {audio && audio[0].codec && (\n          <li>\n            <b>Audio codec: </b> {audio && audio[0].codec}\n          </li>\n        )}\n        {audio && (\n          <li>\n            <b>Audio configuration:</b> {audioTracks} tracks and {audioChannels} channels\n          </li>\n        )}\n        {duration && (\n          <li>\n            <b>Duration: </b> {prettyMilliseconds(Number(duration || 0))}\n          </li>\n        )}\n        <li>\n          <b>Timestamp: </b> {file.timestamp}\n        </li>\n      </ul>\n    </>\n  );\n}\n\nexport default ShapeInfo;\n","import { file as FileApi } from '@vidispine/vdt-api';\nimport { useApi } from '@vidispine/vdt-react';\n\nconst useSearchFiles = (storageId) => {\n  const {\n    data: fileListType,\n    request: listFileStorage,\n    isLoading,\n    hasLoaded,\n  } = useApi(FileApi.listFileStorage);\n  const onSearch = (text = '', first = 0) =>\n    listFileStorage({\n      storageId,\n      queryParams: {\n        number: 10,\n        sort: 'fileId desc',\n        path: `*${text}*`,\n        prefix: true,\n        wildcard: true,\n        first,\n      },\n    });\n\n  return {\n    onSearch,\n    fileListType,\n    isLoading,\n    hasLoaded,\n  };\n};\n\nexport default useSearchFiles;\n","import { useState } from 'react';\nimport { file as FileApi } from '@vidispine/vdt-api';\n\nconst useFileShapes = () => {\n  const [state, setState] = useState({\n    fileShapes: {},\n    hasShapesLoaded: false,\n  });\n  const setHasLoaded = (hasLoaded) => {\n    setState((prev) => ({\n      ...prev,\n      hasLoaded,\n    }));\n  };\n  const onListShapes = (fileIds = []) => {\n    setHasLoaded(false);\n    const reqs = [];\n    fileIds.forEach((fileId) => {\n      reqs.push(\n        FileApi.listFileShapes({\n          fileId,\n        }),\n      );\n    });\n    Promise.all(reqs)\n      .then((result) => result.map((r) => r.json()))\n      .then((data) => {\n        const fileShapes = {};\n        data.forEach((res, i) => {\n          fileShapes[fileIds[i]] = res.shape ? res.shape[0] : {};\n        });\n        setState({\n          hasShapesLoaded: true,\n          fileShapes,\n        });\n      });\n  };\n  return {\n    onListShapes,\n    ...state,\n  };\n};\n\nexport default useFileShapes;\n","import React, { useState, useEffect } from 'react';\nimport { SearchInput, MediaCardFullWidth } from '@vidispine/vdt-materialui';\nimport { Button, List, CardActions, IconButton, Checkbox, ListItem } from '@material-ui/core';\nimport { SwitchVideo, CloudDownload } from '@material-ui/icons';\nimport parseFileSize from 'filesize';\nimport ShapeInfo from './ShapeInfo';\nimport useSearchFiles from '../hooks/useSearchFiles';\nimport useFileShapes from '../hooks/useFileShapes';\n\nconst ActionsComponent = ({ selected, onSelect, file, transcodeAvailable, openTranscodeModal }) => {\n  return (\n    <CardActions disableSpacing style={{ padding: 0 }}>\n      {transcodeAvailable && (\n        <IconButton onClick={() => openTranscodeModal(file)}>\n          <SwitchVideo />\n        </IconButton>\n      )}\n      <IconButton>\n        <CloudDownload />\n      </IconButton>\n      <Checkbox checked={selected} onChange={onSelect} />\n    </CardActions>\n  );\n};\n\nconst FileSearch = ({ classes, storageId, transcodeAvailable, openTranscodeModal }) => {\n  const { onSearch, fileListType, hasLoaded, isLoading } = useSearchFiles(storageId);\n  const { onListShapes, hasShapesLoaded, fileShapes } = useFileShapes();\n  const [first, setFirst] = useState(0);\n  const [searchString, setSearchString] = useState('');\n  const { file: fileList = [] } = hasLoaded ? fileListType : {};\n  useEffect(() => {\n    if (hasLoaded) {\n      onListShapes(fileList.map((file) => file.id));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fileList]);\n  useEffect(() => {\n    onSearch(searchString, first);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [first]);\n\n  const renderShapeInfo = (file) => {\n    if (!hasShapesLoaded || !fileShapes[file.id] || Object.keys(fileShapes[file.id]).length === 0) {\n      return <p>Technical metadata extraction not completed.</p>;\n    }\n    return <ShapeInfo file={file} shape={fileShapes[file.id]} />;\n  };\n\n  return (\n    <>\n      <SearchInput\n        className={classes.SearchInput}\n        onSubmit={onSearch}\n        submitting={hasLoaded && isLoading}\n        onChange={setSearchString}\n      />\n      <Button\n        onClick={() => {\n          setFirst(Math.max(0, first - 10));\n        }}\n      >\n        Previous\n      </Button>\n      <Button\n        onClick={() => {\n          setFirst(first + 10);\n        }}\n      >\n        Next\n      </Button>\n      <List>\n        {fileList.map((file) => (\n          <ListItem key={file.id}>\n            <MediaCardFullWidth\n              className=\"search-result\"\n              key={file.id}\n              title={file.path}\n              subheader={parseFileSize(file.size)}\n              ExpandComponent={false}\n              content={renderShapeInfo(file)}\n              ContentProps={{ component: 'div' }}\n              ActionsComponent={ActionsComponent}\n              ActionsProps={{\n                transcodeAvailable,\n                openTranscodeModal,\n                file: {\n                  file,\n                  fileShape: hasShapesLoaded ? fileShapes[file.id] : {},\n                },\n              }}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </>\n  );\n};\n\nexport default FileSearch;\n","import React from 'react';\nimport { useQuery } from 'react-query';\nimport { shapetag as ShapetagApi } from '@vidispine/vdt-api';\n\nconst ProfileContext = React.createContext();\n\nconst formatBitrate = (bits = 0) => {\n  const units = ['Kb/s', 'Mb/s'];\n  const i = parseInt(Math.floor(Math.log(bits) / Math.log(10240000)), 10);\n  return `${(bits / 1000 ** (i + 1)).toFixed(0)} ${units[i]}`;\n};\n\nexport function useListProfiles() {\n  return useQuery(\n    ['profile'],\n    () =>\n      ShapetagApi.listShapeTag().then(({ data = {} }) => {\n        const { uri: profiles = [] } = data;\n        return profiles;\n      }),\n    {\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n    },\n  );\n}\n\nconst parseProfile = (data) => {\n  const profile = {};\n  const { name, format, video, audio, metadata } = data;\n\n  if (name) profile.name = name;\n  if (format) profile.format = format;\n\n  if (video) {\n    const { codec, bitrate, scaling, framerate } = video;\n    if (codec) profile.videoCodec = codec;\n    if (bitrate) profile.bitrate = formatBitrate(bitrate);\n    if (scaling) {\n      const { width, height } = scaling;\n      if (width && height) profile.resolution = `${width} x ${height}`;\n      if (width) profile.width = width;\n      if (height) profile.height = height;\n    }\n    if (framerate) {\n      const { denominator = 1, numerator = 1 } = video;\n      profile.framerate = denominator / numerator;\n    }\n  }\n\n  if (audio) {\n    const { codec } = audio;\n    if (codec) profile.audioCodec = codec;\n  }\n\n  if (metadata) profile.metadata = metadata;\n\n  return profile;\n};\n\nexport function useGetProfile({ tagName }) {\n  return useQuery(\n    ['profile', tagName],\n    () => ShapetagApi.getShapeTag({ tagName }).then(({ data = {} }) => parseProfile(data)),\n    {\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n    },\n  );\n}\n\nexport const ProfileProvider = ({ children }) => {\n  const { data = [], isLoading, isError } = useListProfiles();\n  const [search, setSearch] = React.useState('');\n  const onSearch = (v) => setSearch(v);\n  const profiles = React.useMemo(\n    () => data.filter((s) => s.toLowerCase().includes(search)),\n    [search, data],\n  );\n  return (\n    <ProfileContext.Provider value={{ profiles, onSearch, isLoading, isError }}>\n      {children}\n    </ProfileContext.Provider>\n  );\n};\n\nexport function useProfiles() {\n  const context = React.useContext(ProfileContext);\n  if (context === undefined) {\n    throw new Error('useProfile must be used within a ProfileProvider');\n  }\n  return context;\n}\n","import React from 'react';\nimport { MediaCardFullWidth } from '@vidispine/vdt-materialui';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Table,\n  TableCell,\n  TableRow,\n  TableBody,\n  Checkbox,\n} from '@material-ui/core';\nimport parseFileSize from 'filesize';\nimport { useProfiles, useGetProfile } from '../../Profiles/ProfileContext';\nimport ShapeInfo from './ShapeInfo';\n\nexport const Profile = ({ profile: tagName }) => {\n  const { data = {} } = useGetProfile({ tagName });\n  const { name, resolution, videoCodec, bitrate, audioCodec } = data;\n  return (\n    <TableRow>\n      <TableCell padding=\"checkbox\">\n        <Checkbox />\n      </TableCell>\n      <TableCell>{name}</TableCell>\n      <TableCell>Codec: {videoCodec}</TableCell>\n      <TableCell>Audio codec: {audioCodec}</TableCell>\n      <TableCell>Resolution: {resolution}</TableCell>\n      <TableCell>Bitrate: {bitrate}</TableCell>\n    </TableRow>\n  );\n};\nconst renderShapeInfo = (fileInfo) => {\n  if (!fileInfo.fileShape) {\n    return <p>Technical metadata extraction not completed.</p>;\n  }\n  return <ShapeInfo file={fileInfo.file} shape={fileInfo.fileShape} />;\n};\n\nconst TranscodeModal = ({ open, fileInfo, handleClose }) => {\n  const { profiles = [] } = useProfiles();\n  const nextStep = () => {};\n  return (\n    <Dialog\n      fullWidth={false}\n      maxWidth=\"md\"\n      open={open}\n      onClose={() => {}}\n      aria-labelledby=\"max-width-dialog-title\"\n    >\n      <DialogTitle id=\"max-width-dialog-title\">\n        Transcode file {fileInfo ? fileInfo.file.id : ''}\n      </DialogTitle>\n      <DialogContent>\n        {fileInfo && (\n          <MediaCardFullWidth\n            className=\"search-result\"\n            title={fileInfo.file.path}\n            subheader={parseFileSize(fileInfo.file.size)}\n            ExpandComponent={false}\n            content={renderShapeInfo(fileInfo)}\n            ContentProps={{ component: 'div' }}\n            ActionsComponent={false}\n          />\n        )}\n        <h2>Profiles</h2>\n        <Table>\n          <TableBody>\n            {profiles.map((profile) => (\n              <Profile profile={profile} key={profile} />\n            ))}\n          </TableBody>\n        </Table>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Close\n        </Button>\n        <Button onClick={nextStep} color=\"primary\">\n          Next\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default TranscodeModal;\n","import React from 'react';\nimport { withStyles, Card, CardContent, Tab, Tabs } from '@material-ui/core';\nimport FileSearch from './components/FileSearch';\nimport TranscodeModal from './components/TranscodeModal';\nimport { useConfiguration } from '../Root/ConfigurationContext';\n\nimport './styles/search.css';\n\nconst styles = (theme) => ({\n  root: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(4),\n    paddingRight: theme.spacing(4),\n  },\n  ItemList: {},\n  SearchInput: {},\n});\n\nfunction Search({ classes }) {\n  const [tab, setTab] = React.useState('source');\n  const [selectedFile, setSelectedFile] = React.useState();\n  const [transcodeModalOpen, setTranscodeModalOpen] = React.useState(false);\n  const onChangeTab = (e, newTab) => newTab && setTab(newTab);\n  const { sourceStorage, outputStorage, isLoading } = useConfiguration();\n\n  const openTranscodeModal = (fileId) => {\n    setSelectedFile(fileId);\n    setTranscodeModalOpen(true);\n  };\n\n  const closeTranscodeModal = () => {\n    setTranscodeModalOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Tabs value={tab} onChange={onChangeTab}>\n        <Tab value=\"source\" label=\"Source\" />\n        <Tab value=\"output\" label=\"Output\" />\n      </Tabs>\n      {\n        {\n          source: (\n            <Card variant=\"outlined\" key=\"source\">\n              {!isLoading && (\n                <CardContent>\n                  <FileSearch\n                    classes={classes}\n                    storageId={sourceStorage}\n                    openTranscodeModal={openTranscodeModal}\n                    transcodeAvailable\n                  />\n                </CardContent>\n              )}\n            </Card>\n          ),\n          output: (\n            <Card variant=\"outlined\" key=\"output\">\n              {!isLoading && (\n                <CardContent>\n                  <FileSearch\n                    classes={classes}\n                    storageId={outputStorage}\n                    transcodeAvailable={false}\n                  />\n                </CardContent>\n              )}\n            </Card>\n          ),\n        }[tab]\n      }\n      <TranscodeModal\n        fileInfo={selectedFile}\n        open={transcodeModalOpen}\n        handleClose={closeTranscodeModal}\n      />\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Search);\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Table,\n  TableRow,\n  TableBody,\n  TableHead,\n  TableCell,\n  Checkbox,\n  Button,\n} from '@material-ui/core';\nimport { SearchInput } from '@vidispine/vdt-materialui';\nimport { useProfiles, useGetProfile } from './ProfileContext';\n\nexport const Profile = ({ profile: tagName }) => {\n  const { data = {} } = useGetProfile({ tagName });\n  console.log(data);\n  const { name, format, resolution, videoCodec, bitrate, audioCodec, framerate } = data;\n  return (\n    <TableRow>\n      <TableCell padding=\"checkbox\">\n        <Checkbox />\n      </TableCell>\n      <TableCell>{name}</TableCell>\n      <TableCell>{format}</TableCell>\n      <TableCell>{resolution}</TableCell>\n      <TableCell>{framerate}</TableCell>\n      <TableCell>{videoCodec}</TableCell>\n      <TableCell>{audioCodec}</TableCell>\n      <TableCell>{bitrate}</TableCell>\n    </TableRow>\n  );\n};\n\nexport default () => {\n  const [first, setFirst] = useState(0);\n  const { profiles = [], onSearch } = useProfiles();\n\n  const nextPage = () => {\n    setFirst(first + 20);\n  };\n  const prevPage = () => {\n    setFirst(Math.max(0, first - 20));\n  };\n  return (\n    <Box height={500}>\n      <SearchInput onSubmit={onSearch} />\n      <Button type=\"button\" onClick={prevPage} disabled={first === 0}>\n        Prev\n      </Button>\n      <Button type=\"button\" onClick={nextPage} disabled={first + 20 > profiles.length}>\n        Next\n      </Button>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell />\n            <TableCell>Name</TableCell>\n            <TableCell>Format</TableCell>\n            <TableCell>Resolution</TableCell>\n            <TableCell>Framerate</TableCell>\n            <TableCell>Video codec</TableCell>\n            <TableCell>Audio codec</TableCell>\n            <TableCell>Bitrate</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {profiles.slice(first, first + 20).map((profile) => (\n            <Profile profile={profile} key={profile} />\n          ))}\n        </TableBody>\n      </Table>\n    </Box>\n  );\n};\n","import React from 'react';\nimport { LoginForm } from '@vidispine/vdt-materialui';\nimport { withStyles, Grid, Hidden } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\n\nimport { APP_TITLE, APP_LOGO } from '../../const';\n\nconst styles = (theme) => ({\n  root: {\n    height: '100vh',\n    width: '100vw',\n  },\n  gridLeft: {\n    padding: theme.spacing(4),\n  },\n  gridRight: {\n    height: 'inherit',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: theme.palette.background.login,\n  },\n  logo: {\n    backgroundColor: theme.palette.common.white,\n    maxWidth: '25vw',\n  },\n});\n\nfunction Login({ classes, onLogin, userName, serverUrl, error }) {\n  return (\n    <Grid className={classes.root} container direction=\"row\" alignItems=\"center\">\n      <Grid item xs={12} sm={12} md={6} lg={3} className={classes.gridLeft}>\n        <Alert\n          style={{ visibility: error ? 'visible' : 'hidden' }}\n          severity=\"error\"\n          className={classes.alert}\n        >\n          {error}\n        </Alert>\n        <LoginForm\n          onSubmit={onLogin}\n          FormProps={{\n            initialValues: { userName, serverUrl },\n          }}\n          UrlFieldComponent={null}\n          RememberMeFieldComponent={null}\n        />\n      </Grid>\n      <Hidden smDown>\n        <Grid item sm className={classes.gridRight}>\n          <img src={APP_LOGO} alt={APP_TITLE} className={classes.logo} />\n        </Grid>\n      </Hidden>\n    </Grid>\n  );\n}\n\nexport default withStyles(styles)(Login);\n","import React from 'react';\nimport { withStyles, Typography } from '@material-ui/core';\n\nconst styles = () => ({\n  logo: {\n    text: '100%',\n    textAlign: 'center',\n  },\n});\n\nfunction NotFound({ classes }) {\n  return <Typography className={classes.text}>Page does not exist</Typography>;\n}\n\nexport default withStyles(styles)(NotFound);\n","import React from 'react';\nimport { UserAvatarButton } from '@vidispine/vdt-materialui';\nimport { withStyles, AppBar, Toolbar } from '@material-ui/core';\nimport { useAuthContext } from '@vidispine/vdt-react';\n\nimport { APP_TITLE, HEADER_LOGO } from '../../../const';\n\nconst styles = (theme) => ({\n  logo: {\n    height: `calc(${theme.mixins.toolbar.minHeight}px - ${theme.spacing(4)}px)`,\n    marginRight: theme.spacing(4),\n  },\n  title: {\n    flexGrow: 1,\n  },\n});\n\nfunction Header({ classes }) {\n  const { userName, onLogout } = useAuthContext();\n  return (\n    <AppBar elevation={0}>\n      <Toolbar variant=\"dense\">\n        <img className={classes.logo} src={HEADER_LOGO} alt={APP_TITLE} />\n        <div className={classes.title}>{APP_TITLE}</div>\n        <UserAvatarButton userName={userName} onLogout={onLogout} />\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default withStyles(styles)(Header);\n","import { QueryClient } from 'react-query';\n\nexport default new QueryClient();\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core';\nimport { AuthProvider } from '@vidispine/vdt-react';\nimport { QueryClientProvider } from 'react-query';\nimport { ConfigurationProvider } from './ConfigurationContext';\nimport { LOGIN_EXPIRES_SECONDS, APP_BASENAME, VIDISPINE_URL } from '../../const';\nimport Search from '../Search';\nimport { ProfileProvider, Profiles } from '../Profiles';\nimport Login from '../Login';\nimport NotFound from '../NotFound';\nimport Header from './components/Header';\nimport queryClient from '../../queryClient';\n\nconst styles = (theme) => ({\n  container: {\n    height: '100vh',\n    overflow: 'auto',\n    paddingTop: theme.mixins.toolbar.minHeight,\n    marginRight: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n});\n\nfunction Root({ classes }) {\n  const [loginError, setLoginError] = React.useState(!VIDISPINE_URL && 'VIDISPINE_URL is unset');\n  const handleLoginError = ({ message }) => {\n    setLoginError(message);\n    setTimeout(() => setLoginError(), 5000);\n  };\n  return (\n    <AuthProvider\n      cookieOptions={{\n        maxAge: LOGIN_EXPIRES_SECONDS,\n        path: APP_BASENAME,\n      }}\n      onError={handleLoginError}\n      LoginComponent={Login}\n      LoginProps={{ error: loginError }}\n      serverUrl=\"/\"\n    >\n      <QueryClientProvider client={queryClient}>\n        <ConfigurationProvider>\n          <ProfileProvider>\n            <Header />\n            <div className={classes.container}>\n              <Switch>\n                <Route exact path=\"/search/\">\n                  <Search />\n                </Route>\n                <Route exact path=\"/search/*\">\n                  <Search />\n                </Route>\n                <Route exact path=\"/profile/\">\n                  <Profiles />\n                </Route>\n                <Redirect exact from=\"/\" push to=\"/search/\" />\n                <Route path=\"*\">\n                  <NotFound />\n                </Route>\n              </Switch>\n            </div>\n          </ProfileProvider>\n        </ConfigurationProvider>\n      </QueryClientProvider>\n    </AuthProvider>\n  );\n}\n\nexport default withStyles(styles)(Root);\n","import React from 'react';\nimport { Container, Paper } from '@material-ui/core';\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { error, hasError: true };\n  }\n\n  render() {\n    const { children } = this.props;\n    const { hasError, error } = this.state;\n    if (hasError) {\n      return (\n        <Container maxWidth=\"sm\">\n          <Paper\n            variant=\"outlined\"\n            style={{\n              backgroundColor: '#313131',\n              color: '#eee',\n              padding: '8px 16px 32px 16px',\n            }}\n          >\n            <h3>We&apos;re sorry - something went wrong: </h3>\n            {error && (\n              <div\n                style={{\n                  color: '#e57373',\n                }}\n              >\n                {error.toString()}\n              </div>\n            )}\n          </Paper>\n        </Container>\n      );\n    }\n    return children;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\n\nimport LightTheme from './themes/LightTheme';\nimport Root from './pages/Root';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport { APP_BASENAME } from './const';\n\nReactDOM.render(\n  <ErrorBoundary>\n    <MuiThemeProvider theme={LightTheme}>\n      <CssBaseline>\n        <Router basename={APP_BASENAME}>\n          <Root />\n        </Router>\n      </CssBaseline>\n    </MuiThemeProvider>\n  </ErrorBoundary>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}