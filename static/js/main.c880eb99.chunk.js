(this["webpackJsonptest-vdt-app"]=this["webpackJsonptest-vdt-app"]||[]).push([[0],{460:function(e,t,a){},462:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),o=a.n(i),c=a(118),s=a(464),l=a(465),d=a(38),u=a(485),b=a(209),j=a(4),h=function(e){var t=e.open,a=e.message,n=e.severity,r=e.hideNotification;return Object(j.jsx)(u.a,{open:t,autoHideDuration:2e3,onClose:r,children:Object(j.jsx)(b.a,{elevation:6,variant:"filled",severity:n,onClose:r,children:a})})},p=Object(n.createContext)();function m(e){var t=e.children,a=Object(n.useState)({open:!1,message:"",severity:""}),r=Object(d.a)(a,2),i=r[0],o=r[1],c=function(e,t){"clickaway"!==t&&o({open:!1,message:i.message,severity:i.severity})};return Object(j.jsxs)(p.Provider,{value:{setNotification:o,hideNotification:c},children:[t,Object(j.jsx)(h,{open:i.open,message:i.message,severity:i.severity,hideNotification:c})]})}var f=a(161),v=a(285),x=a.n(v),O=(a(263),a(384),Object(f.a)({typography:{useNextVariants:!0,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},palette:{type:"light",primary:{main:"#7B61FF"},secondary:{main:"#CCC"},text:{primary:"rgba(0,0,0,0.75)"},background:{login:"linear-gradient(-45deg,#b0c800,#0068a9 0,#0068a9 33%,#002749 100%,#b0c800 0)",default:"#f2f2f2",paper:"#fff"}},overrides:{VdtUserAvatarButton:{avatar:{backgroundColor:x.a[500],fontSize:"0.875rem",height:32,width:32}}},props:{VdtUserAvatarButton:{locale:{options:void 0},userName:""}}})),g=a(44),y=a(3),C=a(13),S=a(286),T=a(39),P=a(566),k=a(7),L=r.a.createContext();var w=function(e){var t=e.children,a=Object(P.a)(["storages"],(function(){return k.s.listStorage({}).then((function(e){var t=e.data;return function(e){var t=null,a=null;return e.storage.forEach((function(e){e.metadata.field&&e.metadata.field.forEach((function(n){"transcodeThemeSourceStorage"===n.key&&(t=e.id),"transcodeThemeOutputStorage"===n.key&&(a=e.id)}))})),{sourceStorage:t,outputStorage:a}}(void 0===t?{}:t)}))}),{refetchOnWindowFocus:!1,staleTime:1/0}),n=a.data,r=a.isLoading,i=a.isError;return Object(j.jsx)(L.Provider,{value:Object(T.a)(Object(T.a)({},n),{},{isLoading:r,isError:i}),children:t})},E=a.p+"static/media/logo.db253c2c.svg",N=a.p+"static/media/header-logo.f0892ea4.svg",A=E,R=N,M="VidiCore Transcode Theme";""===Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/transcode-theme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_TITLE:"VidiCore Transcode Theme",REACT_APP_DOCUMENT_TITLE:"VidiCore Transcode Theme"}).REACT_APP_VIDISPINE_URL||Object({NODE_ENV:"production",PUBLIC_URL:"https://vidispine.github.io/transcode-theme",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_TITLE:"VidiCore Transcode Theme",REACT_APP_DOCUMENT_TITLE:"VidiCore Transcode Theme"}).REACT_APP_VIDISPINE_URL;document.title="VidiCore Transcode Theme";var _="https://vidispine.github.io/transcode-theme";_&&_.startsWith("http")&&(_=(_=new URL(_)).pathname.replace(/(.+?)\/+$/,"$1"));var F=_,I=a(208),D=a(144),W=a(205),V=a(250),z=a(54),B=a(474),q=a(25),H=a(210),U=a(11),K=a(61),J=a(41),Q=a(559),Z=a(560),$=a(137),G=a.n($),X=a(332),Y=a.n(X);var ee=function(e){var t=e.shape,a=e.file;if(!t)return Object(j.jsx)("p",{children:"Technical metadata extraction not completed."});var n=t.containerComponent,r=t.videoComponent,i=t.audioComponent,o=(n&&n.mediaInfo.property.find((function(e){return"Duration"===e.key}))||{}).value,c=i?i.length:0,s=i?i.reduce((function(e,t){return e+Number(t.channelCount)}),0):0;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{children:[n&&n.format&&Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Container format:"})," ",n&&n.format," "]}),r&&r[0].codec&&Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Video codec: "})," ",r&&r[0].codec]}),i&&i[0].codec&&Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Audio codec: "})," ",i&&i[0].codec]}),i&&Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Audio configuration:"})," ",c," tracks and ",s," channels"]}),o&&Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Duration: "})," ",Y()(Number(o||0))]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Timestamp: "})," ",a.timestamp]})]})})},te=function(e){var t=Object(C.k)(k.f.listFileStorage),a=t.data,n=t.request;return{onSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n({storageId:e,queryParams:{number:10,sort:"fileId desc",path:"*".concat(t,"*"),prefix:!0,wildcard:!0,first:a}})},fileListType:a,isLoading:t.isLoading,hasLoaded:t.hasLoaded}},ae=function(){var e=Object(n.useState)({fileShapes:{},hasShapesLoaded:!1}),t=Object(d.a)(e,2),a=t[0],r=t[1],i=function(e){r((function(t){return Object(T.a)(Object(T.a)({},t),{},{hasLoaded:e})}))};return Object(T.a)({onListShapes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(!1);var t=[];e.forEach((function(e){t.push(k.f.listFileShapes({fileId:e}))})),Promise.all(t).then((function(e){return e.map((function(e){return e.json()}))})).then((function(t){var a={};t.forEach((function(t,n){a[e[n]]=t.shape?t.shape[0]:{}})),r({hasShapesLoaded:!0,fileShapes:a})}))}},a)},ne=function(e){var t=e.selected,a=e.onSelect,n=e.file,r=e.transcodeAvailable,i=e.openTranscodeModal;return Object(j.jsxs)(B.a,{disableSpacing:!0,style:{padding:0},children:[r&&Object(j.jsx)(q.a,{onClick:function(){return i(n)},children:Object(j.jsx)(Q.a,{})}),Object(j.jsx)(q.a,{children:Object(j.jsx)(Z.a,{})}),Object(j.jsx)(H.a,{checked:t,onChange:a})]})},re=function(e){var t=e.classes,a=e.storageId,r=e.transcodeAvailable,i=e.openTranscodeModal,o=te(a),c=o.onSearch,s=o.fileListType,l=o.hasLoaded,u=o.isLoading,b=ae(),h=b.onListShapes,p=b.hasShapesLoaded,m=b.fileShapes,f=Object(n.useState)(0),v=Object(d.a)(f,2),x=v[0],O=v[1],g=Object(n.useState)(""),y=Object(d.a)(g,2),C=y[0],S=y[1],T=(l?s:{}).file,P=void 0===T?[]:T;Object(n.useEffect)((function(){l&&h(P.map((function(e){return e.id})))}),[P]),Object(n.useEffect)((function(){c(C,x)}),[x]);var k=function(e){return p&&m[e.id]&&0!==Object.keys(m[e.id]).length?Object(j.jsx)(ee,{file:e,shape:m[e.id]}):Object(j.jsx)("p",{children:"Technical metadata extraction not completed."})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(z.d,{className:t.SearchInput,onSubmit:c,submitting:l&&u,onChange:S}),Object(j.jsx)(U.a,{onClick:function(){O(Math.max(0,x-10))},children:"Previous"}),Object(j.jsx)(U.a,{onClick:function(){O(x+10)},children:"Next"}),Object(j.jsx)(K.a,{children:P.map((function(e){return Object(j.jsx)(J.a,{children:Object(j.jsx)(z.c,{className:"search-result",title:e.path,subheader:G()(e.size),ExpandComponent:!1,content:k(e),ContentProps:{component:"div"},ActionsComponent:ne,ActionsProps:{transcodeAvailable:r,openTranscodeModal:i,file:{file:e,fileShape:p?m[e.id]:{}}}},e.id)},e.id)}))})]})},ie=a(42),oe=a(16),ce=a(63),se=a(51),le=a(46),de=a(73),ue=a(50),be=a(55),je=r.a.createContext();var he=function(e){var t={},a=e.name,n=e.format,r=e.video,i=e.audio,o=e.metadata;if(a&&(t.name=a),n&&(t.format=n),r){var c=r.codec,s=r.bitrate,l=r.scaling,d=r.framerate;if(c&&(t.videoCodec=c),s&&(t.bitrate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["B/s","Kb/s","Mb/s"],a=Math.floor(Math.log(e)/Math.log(1e3));return"".concat((e/Math.pow(1e3,a)).toFixed(0)," ").concat(t[a])}(s)),l){var u=l.width,b=l.height;u&&b&&(t.resolution="".concat(u," x ").concat(b)),u&&(t.width=u),b&&(t.height=b)}if(d){var j=d.denominator,h=void 0===j?1:j,p=d.numerator,m=void 0===p?1:p;t.framerate=h/m}}if(i){var f=i.codec;f&&(t.audioCodec=f)}return o&&(t.metadata=o),t};function pe(e){var t=e.tagName;return Object(P.a)(["profile",t],(function(){return k.r.getShapeTag({tagName:t}).then((function(e){var t=e.data;return he(void 0===t?{}:t)}))}),{refetchOnWindowFocus:!1,staleTime:1/0})}var me=function(e){var t=e.children,a=Object(P.a)(["profile"],(function(){return k.r.listShapeTag().then((function(e){var t=e.data,a=(void 0===t?{}:t).uri;return void 0===a?[]:a}))}),{refetchOnWindowFocus:!1,staleTime:1/0}),n=a.data,i=void 0===n?[]:n,o=a.isLoading,c=a.isError,s=r.a.useState(""),l=Object(d.a)(s,2),u=l[0],b=l[1],h=r.a.useMemo((function(){return i.filter((function(e){return e.toLowerCase().includes(u)}))}),[u,i]);return Object(j.jsx)(je.Provider,{value:{profiles:h,onSearch:function(e){return b(e)},isLoading:o,isError:c},children:t})};function fe(){var e=r.a.useContext(je);if(void 0===e)throw new Error("useProfile must be used within a ProfileProvider");return e}var ve=function(e){var t=pe({tagName:e.profile}).data,a=void 0===t?{}:t,n=a.name,r=a.resolution,i=a.videoCodec,o=a.bitrate,c=a.audioCodec;return Object(j.jsxs)(ie.a,{children:[Object(j.jsx)(oe.a,{padding:"checkbox",children:Object(j.jsx)(H.a,{})}),Object(j.jsx)(oe.a,{children:n}),Object(j.jsxs)(oe.a,{children:["Codec: ",i]}),Object(j.jsxs)(oe.a,{children:["Audio codec: ",c]}),Object(j.jsxs)(oe.a,{children:["Resolution: ",r]}),Object(j.jsxs)(oe.a,{children:["Bitrate: ",o]})]})},xe=function(e){return e.fileShape?Object(j.jsx)(ee,{file:e.file,shape:e.fileShape}):Object(j.jsx)("p",{children:"Technical metadata extraction not completed."})},Oe=function(e){var t=e.open,a=e.fileInfo,n=e.handleClose,r=fe().profiles,i=void 0===r?[]:r;return Object(j.jsxs)(ce.a,{fullWidth:!1,maxWidth:"md",open:t,onClose:function(){},"aria-labelledby":"max-width-dialog-title",children:[Object(j.jsxs)(se.a,{id:"max-width-dialog-title",children:["Transcode file ",a?a.file.id:""]}),Object(j.jsxs)(le.a,{children:[a&&Object(j.jsx)(z.c,{className:"search-result",title:a.file.path,subheader:G()(a.file.size),ExpandComponent:!1,content:xe(a),ContentProps:{component:"div"},ActionsComponent:!1}),Object(j.jsx)("h2",{children:"Profiles"}),Object(j.jsx)(de.a,{children:Object(j.jsx)(ue.a,{children:i.map((function(e){return Object(j.jsx)(ve,{profile:e},e)}))})})]}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(U.a,{onClick:n,color:"primary",children:"Close"}),Object(j.jsx)(U.a,{onClick:function(){},color:"primary",children:"Next"})]})]})};a(460);var ge=Object(y.a)((function(e){return{root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(4),paddingRight:e.spacing(4)},ItemList:{},SearchInput:{}}}))((function(e){var t=e.classes,a=r.a.useState("source"),n=Object(d.a)(a,2),i=n[0],o=n[1],c=r.a.useState(),s=Object(d.a)(c,2),l=s[0],u=s[1],b=r.a.useState(!1),h=Object(d.a)(b,2),p=h[0],m=h[1],f=r.a.useContext(L),v=f.sourceStorage,x=f.outputStorage,O=f.isLoading;return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsxs)(I.a,{value:i,onChange:function(e,t){return t&&o(t)},children:[Object(j.jsx)(D.a,{value:"source",label:"Source"}),Object(j.jsx)(D.a,{value:"output",label:"Output"})]}),{source:Object(j.jsx)(W.a,{variant:"outlined",children:!O&&Object(j.jsx)(V.a,{children:Object(j.jsx)(re,{classes:t,storageId:v,openTranscodeModal:function(e){u(e),m(!0)},transcodeAvailable:!0})})},"source"),output:Object(j.jsx)(W.a,{variant:"outlined",children:!O&&Object(j.jsx)(V.a,{children:Object(j.jsx)(re,{classes:t,storageId:x,transcodeAvailable:!1})})},"output")}[i],Object(j.jsx)(Oe,{fileInfo:l,open:p,handleClose:function(){m(!1)}})]})})),ye=a(81),Ce=a(21),Se=a(99),Te=a(333),Pe=a(334),ke=a(337),Le=a(336),we=a(561),Ee=a(123),Ne=function(e){Object(ke.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Te.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Pe.a)(a,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.hasError,n=t.error;return a?Object(j.jsx)(we.a,{maxWidth:"sm",children:Object(j.jsxs)(Ee.a,{variant:"outlined",style:{backgroundColor:"#313131",color:"#eee",padding:"8px 16px 32px 16px"},children:[Object(j.jsx)("h3",{children:"We're sorry - something went wrong: "}),n&&Object(j.jsx)("div",{style:{color:"#e57373"},children:n.toString()})]})}):e}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e,hasError:!0}}}]),a}(r.a.Component),Ae=function(e){var t=e.open,a=e.onClose,n=e.onSuccess,r=e.title,i=void 0===r?"Dialog":r,o=e.okText,c=void 0===o?"Ok":o,s=e.noText,l=void 0===s?"Cancel":s,d=e.message,u=void 0===d?"Message":d,b=e.Dialog,h=void 0===b?ce.a:b;return Object(j.jsxs)(h,{open:t,onClose:a,children:[Object(j.jsx)(se.a,{children:i}),Object(j.jsx)(le.a,{children:u}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(U.a,{onClick:a,children:l}),Object(j.jsx)(U.a,{variant:"contained",color:"primary",onClick:n,children:c})]})]})},Re=function(e){var t=e.Dialog,a=void 0===t?Ae:t,n=Object(ye.a)(e,["Dialog"]);return Object(j.jsx)(a,Object(T.a)({},n))},Me=r.a.createContext({}),_e=function(e){var t=e.children,a=r.a.useState(!1),n=Object(d.a)(a,2),i=n[0],o=n[1],c=r.a.useState({}),s=Object(d.a)(c,2),l=s[0],u=l.config,b=l.resolve,h=l.reject,p=s[1],m=function(){o(!1)};return Object(j.jsxs)(Me.Provider,{value:{openDialog:function(e){o(!0),p(e)}},children:[Object(j.jsx)(Re,Object(T.a)(Object(T.a)({},u),{},{open:i,onSuccess:function(e){b(e),m()},onClose:function(e){h(e),m()}})),t]})},Fe=a(562),Ie=a(563),De=a(32),We=function(e){var t=e.onChange,a=e.match;return Object(j.jsx)(z.a,{input:{onChange:t,checked:a},color:"primary",size:"small",label:"Match source"})},Ve=function(e){var t=e.name,a=e.label,n=e.match,i=e.options,o=e.required,c=e.dependency,s=e.classes,l=r.a.createRef(),u=r.a.useState(n),b=Object(d.a)(u,2),h=b[0],p=b[1];r.a.useEffect((function(){return l.current()}),[c]);var m=r.a.useMemo((function(){if(!c)return i;var e=i.filter((function(e){var t=e.dependency;return!t||t.includes(c)}));return e.length?e:[{label:"No options",value:null,disabled:!0}]}),[i,c]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(De.a,{id:t,name:t,type:"select",render:function(e){var t=e.input,r=e.meta;return l.current||(l.current=t.onChange),Object(j.jsx)(z.e,{meta:r,type:"select",input:t,label:a,onBlur:t.onBlur,onFocus:t.onFocus,options:m,variant:"outlined",classes:{root:s.select},required:o,disabled:!!h,IconComponent:h?Fe.a:Ie.a,InputLabelProps:{required:o},FormHelperTextProps:void 0!==n&&{checked:h,onChange:function(e){var a=e.target;a.checked&&t.onChange(),p(a.checked)},component:We}})}})})},ze=function(e){var t=e.name,a=e.label,n=e.required,r=e.classes;return Object(j.jsx)(De.a,{id:t,name:t,label:a,type:"checkbox",color:"primary",classes:{root:r.checkbox},required:n,component:z.a})},Be=function(e){var t=e.name,a=e.label,n=e.required,r=e.placeholder,i=e.classes;return Object(j.jsx)(De.a,{id:t,name:t,type:"text",label:a,variant:"outlined",classes:{root:i.text},required:n,component:z.f,helperText:null,placeholder:r,InputLabelProps:{shrink:!1,"data-shrink":!0}})},qe=function(e){var t=e.name,a=e.label,n=e.required,r=e.placeholder,i=e.classes;return Object(j.jsx)(De.a,{id:t,name:t,type:"number",label:a,variant:"outlined",classes:{root:i.text},required:n,component:z.f,helperText:null,placeholder:r,InputLabelProps:{shrink:!1,"data-shrink":!0}})},He=Object(y.a)((function(e){var t=e.spacing,a=e.typography,n=e.palette;return{text:{marginTop:0,"& > div":{display:"flex",flexDirection:"column","& > label":{fontSize:a.fontSize,position:"relative",transform:"none",marginLeft:t(2),marginBottom:t(1)},"& > fieldset":{top:0,"& legend":{display:"none"}},"& input":{backgroundColor:n.background.paper,padding:t(2)}}},checkbox:{marginTop:0,paddingLeft:t(2),"& > p":{display:"none"}},select:{marginTop:0,display:"flex",flexDirection:"column","& > label":{fontSize:a.fontSize,position:"relative",transform:"none",marginLeft:t(2),marginBottom:t(1)},"& .MuiSelect-root":{backgroundColor:n.background.paper,padding:t(2,4,2,2),"&.Mui-disabled > span::after":{content:'"Auto"'}},"& .VdtCheckboxField-root":{marginTop:0,marginLeft:t(2),"& > p":{display:"none"},"& span":{fontSize:a.fontSize}}}}}))((function(e){var t=e.type,a=e.dependency,n=Object(ye.a)(e,["type","dependency"]),r=Be;if("number"===t&&(r=qe),"select"===t&&(r=Ve),"checkbox"===t&&(r=ze),!a)return Object(j.jsx)(r,Object(T.a)({},n));var i=a.key,o=a.value;return Object(j.jsx)(De.a,{name:i,subscription:{value:!0},children:function(e){var t=e.input.value;return void 0!==o&&t!==o?null:Object(j.jsx)(r,Object(T.a)(Object(T.a)({},n),{},{dependency:t}))}})})),Ue=[{name:"general",label:"",fields:[{name:"name",label:"Name",type:"string",placeholder:"Name",fullWidth:!0,required:!0,autoFocus:!0},{name:"description",label:"Description",type:"string",placeholder:"Description",fullWidth:!0},{name:"format",label:"Format",type:"select",fullWidth:!0,required:!0,options:[{value:"mp4",label:"MP4"},{value:"mov",label:"MOV"}]},{name:"createPreview",label:"Create preview",type:"checkbox",fullWidth:!0},{name:"createThumbnails",label:"Create thumbnails",type:"checkbox",fullWidth:!0}]},{name:"video",label:"Video",fields:[{name:"video.codec",label:"Codec",type:"select",dependency:{key:"format"},options:[{value:"h264",label:"H264",dependency:["mp4"]},{value:"prores",label:"ProRes",dependency:["mov"]}]},{name:"video.preset",label:"Preset",type:"select",dependency:{key:"video.codec"},options:[{value:"baseline",label:"Baseline",dependency:["h264"]},{value:"ipod",label:"Ipod",dependency:["h264"]},{value:"main",label:"Main",dependency:["h264"]},{value:"high",label:"High",dependency:["h264"]},{value:"proreshq",label:"ProRes HQ",dependency:["prores"]},{value:"prores422",label:"ProRes 422",dependency:["prores"]},{value:"proreslt",label:"ProRes LT",dependency:["prores"]},{value:"proresproxy",label:"ProRes Proxy",dependency:["prores"]},{value:"prores4444",label:"ProRes 4444",dependency:["prores"]},{value:"prores4444xq",label:"ProRes 4444 XQ",dependency:["prores"]}]},{name:"video.framerate",label:"Framerate",type:"select",match:!1,options:[{value:24,label:"24 FPS"},{value:25,label:"25 FPS"},{value:30,label:"30 FPS"},{value:50,label:"50 FPS"},{value:60,label:"60 FPS"}]},{name:"video.bitrate",label:"Bitrate",type:"select",match:!1,options:[{value:1e6,label:"1 Mbit/s"},{value:2e6,label:"2 Mbit/s"},{value:3e6,label:"3 Mbit/s"},{value:4e6,label:"4 Mbit/s"},{value:5e6,label:"5 Mbit/s"},{value:6e6,label:"6 Mbit/s"},{value:7e6,label:"7 Mbit/s"},{value:8e6,label:"8 Mbit/s"},{value:9e6,label:"9 Mbit/s"},{value:1e7,label:"10 Mbit/s"},{value:11e6,label:"11 Mbit/s"},{value:12e6,label:"12 Mbit/s"},{value:15e6,label:"15 Mbit/s"},{value:2e7,label:"20 Mbit/s"},{value:25e6,label:"25 Mbit/s"},{value:3e7,label:"30 Mbit/s"},{value:5e7,label:"50 Mbit/s"}]},{name:"video.resolution",label:"Resolution",type:"select",match:!1,fullWidth:!0,options:[{value:"4096x2160",label:"4096 x 2160"},{value:"2048x1080",label:"2048 x 1080"},{value:"1920x1080",label:"1920 x 1080"},{value:"1280x720",label:"1280 x 720"},{value:"960x540",label:"960 x 540"},{value:"640x360",label:"640 x 360"},{value:0,label:"Custom resolution"}]},{name:"video.width",label:"Width",type:"number",dependency:{key:"video.resolution",value:0}},{name:"video.height",label:"Height",type:"number",dependency:{key:"video.resolution",value:0}}]},{name:"audio",label:"Audio",fields:[{name:"audio.codec",label:"Codec",type:"select",options:[{value:"nablet_aac",label:"AAC Nablet"},{value:"mp3",label:"MP3"}]},{name:"audio.preset",label:"Preset",type:"select",dependency:{key:"audio.codec"},options:[{value:"AAC_LC",label:"Low complexity",dependency:["nablet_aac"]}]},{name:"audio.sampleRate",label:"Sample rate",type:"select",match:!1,options:[{value:48,label:"48 Khz"},{value:96,label:"96 Khz"}]},{name:"audio.sampleSize",label:"Sample size",type:"select",match:!1,options:[{value:16,label:"16"},{value:24,label:"24"}]}]}],Ke=a(346),Je=a(15),Qe=a(255),Ze=a(247),$e=a(23),Ge=a(248),Xe=function(e){var t=e.fields;return Object(j.jsx)(Je.a,{spacing:2,container:!0,children:t.map((function(e){var t=e.name,a=e.fullWidth,n=Object(ye.a)(e,["name","fullWidth"]);return Object(j.jsx)(Je.a,{item:!0,xs:a?12:6,children:Object(j.jsx)(He,Object(T.a)({name:t},n))},t)}))})},Ye=Object(y.a)((function(e){var t=e.spacing;return{root:{borderRadius:t(.5),boxShadow:"none",marginTop:t(2),marginBottom:t(0),"&:before":{content:"unset"}}}}))((function(e){var t=e.label,a=e.fields,n=e.errors,i=e.submitFailed,o=e.classes,c=r.a.useState(!1),s=Object(d.a)(c,2),l=s[0],u=s[1],b=r.a.useMemo((function(){return i&&a.some((function(e){var t=e.name;return Object.keys(n).includes(t)}))}),[n,a,i]);return t?Object(j.jsxs)(Qe.a,{classes:o,expanded:l,onChange:function(){return u(!l)},children:[Object(j.jsx)(Ze.a,{expandIcon:Object(j.jsx)(Ke.a,{}),children:Object(j.jsx)($e.a,{color:b?"error":"initial",children:t})}),Object(j.jsx)(Ge.a,{children:Object(j.jsx)(Xe,{fields:a})})]}):Object(j.jsx)(Xe,{fields:a})})),et=function(e){e.form;var t=e.handleSubmit,a=e.onClose,n=e.classes;return Object(j.jsxs)("form",{onSubmit:t,children:[Object(j.jsx)(se.a,{classes:{root:n.title},children:"Profile manager"}),Object(j.jsx)(le.a,{classes:{root:n.content},children:Ue.map((function(e){var t=e.name,a=Object(ye.a)(e,["name"]);return Object(j.jsx)(Ye,Object(T.a)({},a),t)}))}),Object(j.jsxs)(be.a,{classes:{root:n.actions},children:[Object(j.jsx)(U.a,{onClick:a,children:"Cancel"}),Object(j.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",children:"Add new profile"})]})]})},tt=Object(y.a)((function(e){var t=e.spacing,a=e.palette;return{root:{},title:{},content:{maxHeight:"75vh",padding:t(2),backgroundColor:a.background.default},actions:{}}}))((function(e){var t=e.onSuccess,a=e.onClose,n=e.open,i=e.classes,o=r.a.useState(Ue);return Object(j.jsx)(ce.a,{classes:{root:i.root},open:n,onClose:a,children:Object(j.jsx)(De.b,{onSubmit:function(e){return t(function(e){var t=e.video,a=e.audio,n=e.format,r={name:e.name,description:e.description,format:n};if(t){var i=t.resolution,o=t.framerate,c=t.preset,s=t.width,l=t.height;if(o&&(o={denominator:o,numerator:1}),i){var u=i.split("x"),b=Object(d.a)(u,2);s=b[0],l=b[1],i={width:Number(s),height:Number(l)}}else s&&l&&(i={width:s,height:l});c&&(c=[c]),r.video=Object(T.a)(Object(T.a)({},t),{},{framerate:o,resolution:i,preset:c})}if(a){var j=a.preset,h=a.bitrate,p=a.sampleSize,m=a.sampleRate,f=Object(ye.a)(a,["sampleSize","sampleRate"]);p&&m&&(h=p*m*1e3),j&&(j=[j]),r.audio=Object(T.a)(Object(T.a)({},f),{},{bitrate:h,preset:j})}return r}(e))},sections:o,onClose:a,component:et,classes:i})})})),at=function(e){var t=pe({tagName:e.profile}).data,a=void 0===t?{}:t,n=a.name,r=a.format,i=a.resolution,o=a.videoCodec,c=a.bitrate,s=a.audioCodec,l=a.framerate;return Object(j.jsxs)(ie.a,{children:[Object(j.jsx)(oe.a,{padding:"checkbox",children:Object(j.jsx)(H.a,{})}),Object(j.jsx)(oe.a,{children:n}),Object(j.jsx)(oe.a,{children:r}),Object(j.jsx)(oe.a,{children:i}),Object(j.jsx)(oe.a,{children:l}),Object(j.jsx)(oe.a,{children:o}),Object(j.jsx)(oe.a,{children:s}),Object(j.jsx)(oe.a,{children:c})]})},nt=function(){var e=function(){var e=r.a.useContext(Me).openDialog;return{showDialog:function(t){return new Promise((function(a,n){return e({config:t,resolve:a,reject:n})}))}}}().showDialog,t=function(){var e=r.a.useContext(p);if(void 0===e)throw new Error("useSnackbar must be used within a SnackbarProvider");return e}().setNotification,a=Object(n.useState)(0),i=Object(d.a)(a,2),o=i[0],c=i[1],s=fe(),l=s.profiles,u=void 0===l?[]:l,b=s.onSearch;return Object(j.jsxs)(Ce.a,{children:[Object(j.jsxs)(Ce.a,{display:"grid",gridTemplateColumns:"1fr auto",gridGap:8,children:[Object(j.jsx)(z.d,{onSubmit:b}),Object(j.jsx)(U.a,{variant:"contained",color:"primary",style:{flexShrink:0},onClick:function(){return e({Dialog:tt}).then((function(e){var t=e.name,a=Object(ye.a)(e,["name"]);return k.r.updateShapeTag({tagName:t,transcodePresetDocument:a})})).then((function(){return t({open:!0,message:"Success!"})})).catch((function(){return null}))},children:"Add new profile"})]}),Object(j.jsx)(U.a,{type:"button",onClick:function(){c(Math.max(0,o-20))},disabled:0===o,children:"Prev"}),Object(j.jsx)(U.a,{type:"button",onClick:function(){c(o+20)},disabled:o+20>u.length,children:"Next"}),Object(j.jsxs)(de.a,{children:[Object(j.jsx)(Se.a,{children:Object(j.jsxs)(ie.a,{children:[Object(j.jsx)(oe.a,{}),Object(j.jsx)(oe.a,{children:"Name"}),Object(j.jsx)(oe.a,{children:"Format"}),Object(j.jsx)(oe.a,{children:"Resolution"}),Object(j.jsx)(oe.a,{children:"Framerate"}),Object(j.jsx)(oe.a,{children:"Video codec"}),Object(j.jsx)(oe.a,{children:"Audio codec"}),Object(j.jsx)(oe.a,{children:"Bitrate"})]})}),Object(j.jsx)(ue.a,{children:u.slice(o,o+20).map((function(e){return Object(j.jsx)(at,{profile:e},e)}))})]})]})},rt=a(102),it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="Not a URL",a=/https?:\/\/[-a-zA-Z0-9@:%._+~#=]{2,256}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/gi,n=new RegExp(a),r=e.match(n);return r?null:t};var ot=Object(y.a)((function(e){return{root:{height:"100vh",width:"100vw"},gridLeft:{padding:e.spacing(4)},gridRight:{height:"inherit",display:"flex",justifyContent:"center",alignItems:"center",background:e.palette.background.login},logo:{backgroundColor:e.palette.common.white,maxWidth:"25vw"}}}))((function(e){var t=e.classes,a=e.onLogin,n=e.userName,r=e.serverUrl,i=e.error;return Object(j.jsxs)(Je.a,{className:t.root,container:!0,direction:"row",alignItems:"center",children:[Object(j.jsxs)(Je.a,{item:!0,xs:12,sm:12,md:6,lg:3,className:t.gridLeft,children:[Object(j.jsx)(b.a,{style:{visibility:i?"visible":"hidden"},severity:"error",className:t.alert,children:i}),Object(j.jsx)(z.b,{onSubmit:a,FormProps:{initialValues:{userName:n,serverUrl:r}},FormFieldsProps:{UrlFieldProps:{validate:it}}})]}),Object(j.jsx)(rt.a,{smDown:!0,children:Object(j.jsx)(Je.a,{item:!0,sm:!0,className:t.gridRight,children:Object(j.jsx)("img",{src:A,alt:M,className:t.logo})})})]})}));var ct=Object(y.a)((function(){return{logo:{text:"100%",textAlign:"center"}}}))((function(e){var t=e.classes;return Object(j.jsx)($e.a,{className:t.text,children:"Page does not exist"})})),st=a(469),lt=a(103),dt=Object(y.a)((function(e){var t=e.typography,a=e.palette,n=e.spacing;return{root:Object(T.a)(Object(T.a)({},t.subtitle1),{},{textTransform:"none",opacity:.8,"&::after":{color:a.primary.main,transition:"width 0.25s ease-in-out 0.05s",borderBottom:"0.25em solid",width:0,position:"absolute",bottom:0,left:0,content:'""'},"&:hover, &.active":{opacity:1,backgroundColor:"unset","&::after":{width:"100%"}},"&:not(:last-child)":{marginRight:n(2)}})}}))(U.a);var ut=Object(y.a)((function(e){var t=e.spacing;return{logo:{height:t(3),width:t(3)}}}))((function(e){var t=e.classes,a=Object(C.l)(),n=a.userName,r=a.onLogout;return Object(j.jsx)(st.a,{elevation:0,color:"default",children:Object(j.jsxs)(Ce.a,{display:"flex",px:2,height:52,alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(lt.a,{className:t.logo,variant:"square",src:R,alt:M}),Object(j.jsxs)(Ce.a,{children:[Object(j.jsx)(dt,{variant:"text",component:c.b,to:"/search",color:"inherit",disableRipple:!0,children:"Home"}),Object(j.jsx)(dt,{variant:"text",component:c.b,to:"/profile",color:"inherit",disableRipple:!0,children:"Profiles"}),Object(j.jsx)(dt,{variant:"text",component:c.b,to:"/settings",color:"inherit",disableRipple:!0,children:"Settings"}),Object(j.jsx)(dt,{variant:"text",component:c.b,to:"/about",color:"inherit",disableRipple:!0,children:"About"})]}),Object(j.jsx)(z.g,{className:t.avatar,userName:n,onLogout:r})]})})})),bt=new(a(564).a);var jt=Object(y.a)((function(e){return{container:{height:"100vh",overflow:"auto",paddingTop:e.mixins.toolbar.minHeight,marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}))((function(e){var t=e.classes,a=r.a.useState(),n=Object(d.a)(a,2),i=n[0],o=n[1];return Object(j.jsx)(C.a,{cookieOptions:{maxAge:1209600,path:F},onError:function(e){var t=e.message;o(t),setTimeout((function(){return o()}),5e3)},LoginComponent:ot,LoginProps:{error:i},children:Object(j.jsx)(S.a,{client:bt,children:Object(j.jsx)(_e,{children:Object(j.jsx)(w,{children:Object(j.jsxs)(me,{children:[Object(j.jsx)(ut,{}),Object(j.jsx)("div",{className:t.container,children:Object(j.jsxs)(g.d,{children:[Object(j.jsx)(g.b,{exact:!0,path:"/search/",children:Object(j.jsx)(ge,{})}),Object(j.jsx)(g.b,{exact:!0,path:"/search/*",children:Object(j.jsx)(ge,{})}),Object(j.jsx)(g.b,{exact:!0,path:"/profile/",children:Object(j.jsx)(nt,{})}),Object(j.jsx)(g.a,{exact:!0,from:"/",push:!0,to:"/search/"}),Object(j.jsx)(g.b,{path:"*",children:Object(j.jsx)(ct,{})})]})})]})})})})})}));o.a.render(Object(j.jsx)(Ne,{children:Object(j.jsx)(s.a,{theme:O,children:Object(j.jsx)(l.a,{children:Object(j.jsx)(m,{children:Object(j.jsx)(c.a,{basename:F,children:Object(j.jsx)(jt,{})})})})})}),document.getElementById("root"))}},[[462,1,2]]]);